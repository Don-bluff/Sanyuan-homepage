# Supabase é…ç½®æŒ‡å—

æœ¬é¡¹ç›®å·²é›†æˆ Supabase ä½œä¸ºè®¤è¯å’Œæ•°æ®åº“åç«¯ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é…ç½®ï¼š

## 1. åˆ›å»º Supabase é¡¹ç›®

1. è®¿é—® [https://supabase.com/](https://supabase.com/)
2. æ³¨å†Œå¹¶ç™»å½•è´¦å·
3. ç‚¹å‡» "New Project" åˆ›å»ºæ–°é¡¹ç›®
4. å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š
   - **Name**: é¡¹ç›®åç§°ï¼ˆå¦‚ï¼šsanyuan-pokerï¼‰
   - **Database Password**: è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼ˆè¯·å¦¥å–„ä¿å­˜ï¼‰
   - **Region**: é€‰æ‹©ç¦»ä½ æœ€è¿‘çš„åŒºåŸŸï¼ˆå¦‚ï¼šNortheast Asia (Tokyo)ï¼‰
5. ç­‰å¾…é¡¹ç›®åˆ›å»ºå®Œæˆï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰

## 2. è·å– API å¯†é’¥

1. åœ¨é¡¹ç›®ä»ªè¡¨æ¿ä¸­ï¼Œç‚¹å‡»å·¦ä¾§èœå•çš„ **Settings** (âš™ï¸)
2. ç‚¹å‡» **API** æ ‡ç­¾é¡µ
3. æ‰¾åˆ°ä»¥ä¸‹ä¸¤ä¸ªå€¼ï¼š
   - **Project URL**: ç±»ä¼¼ `https://xxxxx.supabase.co`
   - **anon public**: ä¸€ä¸ªå¾ˆé•¿çš„ JWT token

## 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼‰ï¼š

```bash
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://ä½ çš„é¡¹ç›®ID.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„anon-public-key
```

**é‡è¦æç¤º**ï¼š
- å°†ä¸Šé¢çš„å€¼æ›¿æ¢ä¸ºä½ åœ¨æ­¥éª¤ 2 ä¸­è·å–çš„å®é™…å€¼
- `.env.local` æ–‡ä»¶å·²è¢« `.gitignore` å¿½ç•¥ï¼Œä¸ä¼šæäº¤åˆ° Git
- ä¸è¦å°†çœŸå®çš„å¯†é’¥æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

## 4. å¯ç”¨ Email è®¤è¯

1. åœ¨ Supabase é¡¹ç›®ä¸­ï¼Œç‚¹å‡»å·¦ä¾§çš„ **Authentication**
2. ç‚¹å‡» **Providers** æ ‡ç­¾é¡µ
3. ç¡®ä¿ **Email** é€‰é¡¹å·²å¯ç”¨
4. é…ç½® Email è®¾ç½®ï¼š
   - **Enable Email provider**: âœ… å¼€å¯
   - **Confirm email**: æ ¹æ®éœ€è¦é€‰æ‹©æ˜¯å¦éœ€è¦é‚®ç®±éªŒè¯
   - **Secure email change**: å»ºè®®å¼€å¯

## 5. æµ‹è¯•é…ç½®

1. é‡å¯å¼€å‘æœåŠ¡å™¨ï¼š
   ```bash
   npm run dev
   ```

2. è®¿é—®é¦–é¡µï¼Œå°è¯•æ³¨å†Œæ–°ç”¨æˆ·ï¼ˆç›®å‰åªæ”¯æŒç™»å½•ï¼Œæ³¨å†ŒåŠŸèƒ½å¾…æ·»åŠ ï¼‰

3. å¦‚æœé‡åˆ°é”™è¯¯ï¼Œæ£€æŸ¥ï¼š
   - `.env.local` æ–‡ä»¶ä¸­çš„å€¼æ˜¯å¦æ­£ç¡®
   - å¼€å‘æœåŠ¡å™¨æ˜¯å¦å·²é‡å¯
   - æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

## 6. åç»­åŠŸèƒ½

ç›®å‰å·²å®ç°çš„åŠŸèƒ½ï¼š
- âœ… ç”¨æˆ·ç™»å½•
- âœ… ç”¨æˆ·ç™»å‡º
- âœ… è‡ªåŠ¨æ£€æµ‹ç™»å½•çŠ¶æ€
- âœ… æŒä¹…åŒ–ç™»å½•ä¼šè¯

å¾…å®ç°çš„åŠŸèƒ½ï¼š
- ğŸ”² ç”¨æˆ·æ³¨å†Œ
- ğŸ”² å¿˜è®°å¯†ç /é‡ç½®å¯†ç 
- ğŸ”² é‚®ç®±éªŒè¯
- ğŸ”² ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘
- ğŸ”² æ‰‹ç‰Œæ•°æ®å­˜å‚¨åˆ° Supabase
- ğŸ”² æ¯”èµ›æ•°æ®å­˜å‚¨åˆ° Supabase

## 7. å¸¸è§é—®é¢˜

### Q: ç™»å½•æ—¶æç¤º "Invalid login credentials"
A: æ£€æŸ¥é‚®ç®±å’Œå¯†ç æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ˜¯æ–°ç”¨æˆ·ï¼Œéœ€è¦å…ˆåœ¨ Supabase Dashboard ä¸­æ‰‹åŠ¨åˆ›å»ºæµ‹è¯•ç”¨æˆ·ã€‚

### Q: å¦‚ä½•åœ¨ Supabase ä¸­æ‰‹åŠ¨åˆ›å»ºæµ‹è¯•ç”¨æˆ·ï¼Ÿ
A: 
1. è¿›å…¥ Supabase é¡¹ç›®
2. ç‚¹å‡» **Authentication** â†’ **Users**
3. ç‚¹å‡» "Add user" æŒ‰é’®
4. é€‰æ‹© "Create new user" å¹¶å¡«å†™é‚®ç®±å’Œå¯†ç 
5. ç‚¹å‡» "Create user"

### Q: é¡µé¢åˆ·æ–°åç™»å½•çŠ¶æ€ä¸¢å¤±
A: æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦ç¦ç”¨äº† Cookiesã€‚Supabase ä½¿ç”¨ localStorage å’Œ Cookies æ¥ç»´æŒä¼šè¯ã€‚

### Q: ç¯å¢ƒå˜é‡ä¿®æ”¹åä¸ç”Ÿæ•ˆ
A: ä¿®æ”¹ `.env.local` åï¼Œå¿…é¡»é‡å¯å¼€å‘æœåŠ¡å™¨ï¼ˆ`npm run dev`ï¼‰ã€‚

## 8. å®‰å…¨æç¤º

âš ï¸ **é‡è¦**ï¼š
- æ°¸è¿œä¸è¦å°† `.env.local` æ–‡ä»¶æäº¤åˆ° Git
- ä¸è¦åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ç¡¬ç¼–ç  API å¯†é’¥
- `NEXT_PUBLIC_SUPABASE_ANON_KEY` æ˜¯å…¬å¼€å¯†é’¥ï¼Œå¯ä»¥å®‰å…¨åœ°åœ¨å®¢æˆ·ç«¯ä½¿ç”¨
- å¦‚æœéœ€è¦æœåŠ¡ç«¯å¯†é’¥ï¼ˆ`service_role`ï¼‰ï¼Œè¯·åªåœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨ï¼Œå¹¶ä¿å­˜åœ¨ç¯å¢ƒå˜é‡ä¸­

## éœ€è¦å¸®åŠ©ï¼Ÿ

- Supabase å®˜æ–¹æ–‡æ¡£: [https://supabase.com/docs](https://supabase.com/docs)
- Supabase JavaScript å®¢æˆ·ç«¯: [https://supabase.com/docs/reference/javascript](https://supabase.com/docs/reference/javascript)

